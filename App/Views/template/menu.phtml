<?php
use App\Query\MenuQuery;
use App\Query\HavePageQuery;
use App\Query\PageQuery;

$menuQuery = new MenuQuery();
$menuId = $menuQuery->getIdByPosition('navbar');
$id = implode($menuId);
$havepageQuery = new HavePageQuery();
$pagesId = $havepageQuery->getPagesIdByMenuId($id);
?>

<header id="header" class="site-main--header">
    <div class="container">
        <nav class="site-main--nav">
            <ul>
            <?php if($pagesId != null) {?>
                <?php foreach($pagesId as $page) {
                    $pageQuery = new PageQuery();
                    $pageTitle = $pageQuery->getTitleById($page['page_id']);
                    $title = implode($pageTitle);
                    $pageQuery = new PageQuery();
                    $pageUrl = $pageQuery->getUrlById($page['page_id']);
                    $url = implode($pageUrl);
                    ?>
                    <li>
                        <a href='<?php echo $url ?>'><?php echo $title ?></a>
                    </li>
                <?php } ?>
            <?php }else{ ?>
                <li>
                    <a href='/'>Welcome</a>
                </li>
            <?php } ?>
            </ul>
        </nav>
    </div>
</header>